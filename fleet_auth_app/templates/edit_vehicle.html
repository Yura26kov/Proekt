{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Редактирование транспортного средства</h2>
        <a href="javascript:history.back()" class="btn btn-secondary">Назад к списку</a>
    </div>

    <form method="POST" class="mt-4">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="name" class="form-label">Название</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ vehicle.name }}" required>
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="type" class="form-label">Тип</label>
                <select class="form-select" id="type" name="type" required>
                    <option value="">Выберите тип</option>
                    <option value="car" {% if vehicle.type == 'car' %}selected{% endif %}>Легковой автомобиль</option>
                    <option value="truck" {% if vehicle.type == 'truck' %}selected{% endif %}>Грузовик</option>
                    <option value="van" {% if vehicle.type == 'van' %}selected{% endif %}>Фургон</option>
                    <option value="bus" {% if vehicle.type == 'bus' %}selected{% endif %}>Автобус</option>
                    <option value="suv" {% if vehicle.type == 'suv' %}selected{% endif %}>Внедорожник</option>
                    <option value="minivan" {% if vehicle.type == 'minivan' %}selected{% endif %}>Минивэн</option>
                    <option value="pickup" {% if vehicle.type == 'pickup' %}selected{% endif %}>Пикап</option>
                    <option value="special" {% if vehicle.type == 'special' %}selected{% endif %}>Спецтехника</option>
                    <option value="excavator" {% if vehicle.type == 'excavator' %}selected{% endif %}>Экскаватор</option>
                    <option value="bulldozer" {% if vehicle.type == 'bulldozer' %}selected{% endif %}>Бульдозер</option>
                    <option value="crane" {% if vehicle.type == 'crane' %}selected{% endif %}>Кран</option>
                    <option value="trailer" {% if vehicle.type == 'trailer' %}selected{% endif %}>Прицеп</option>
                    <option value="motorcycle" {% if vehicle.type == 'motorcycle' %}selected{% endif %}>Мотоцикл</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="plate" class="form-label">Государственный номер</label>
                <input type="text" class="form-control" id="plate" name="plate" value="{{ vehicle.plate }}" required>
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="brand" class="form-label">Марка</label>
                <input type="text" class="form-control" id="brand" name="brand" value="{{ vehicle.brand }}" required>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="vin" class="form-label">VIN номер</label>
                <input type="text" class="form-control" id="vin" name="vin" value="{{ vehicle.vin }}" required>
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="year" class="form-label">Год выпуска</label>
                <input type="number" class="form-control" id="year" name="year" value="{{ vehicle.year or '' }}" min="1900" max="{{ current_year }}">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="mileage" class="form-label">Пробег (км)</label>
                <input type="number" class="form-control" id="mileage" name="mileage" value="{{ vehicle.mileage }}" step="0.1" min="0">
            </div>
            
            <div class="col-md-6 mb-3">
                <label for="status" class="form-label">Статус</label>
                <select class="form-select" id="status" name="status" required>
                    <option value="active" {% if vehicle.status == 'active' %}selected{% endif %}>Активен</option>
                    <option value="inactive" {% if vehicle.status == 'inactive' %}selected{% endif %}>Неактивен</option>
                    <option value="maintenance" {% if vehicle.status == 'maintenance' %}selected{% endif %}>На обслуживании</option>
                </select>
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary">Сохранить</button>
        </div>
    </form>
</div>
{% endblock %} 